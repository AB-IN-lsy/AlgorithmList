## 扫描线、线段树

扫描线

扫描线算法通过右端点偏移映射将区间 ([l, r]) 映射为离散化索引范围 $([X_l, X_{r+1}])$，从而弥补空缺。

`modify` 函数在更新区间时，通过调用 `pushup` 函数递归维护当前节点的信息，使父节点与子节点状态保持一致。运用覆盖操作进行pushup，从而覆盖掉该节点下面的曾经存在的操作（因为这个是扫描线，只在乎你操作次数和区间长度）

`pushup` 的意义在于动态更新线段树节点的覆盖长度 ($len_u$)，如果当前区间被完全覆盖（即 $cnt > 0$），则覆盖长度直接为物理长度 ($X_{r+1} - X_l$)；否则，覆盖长度由左右子节点的覆盖长度相加，即 $(len_u = len_{ls} + len_{rs})$。

![扫描线](D:\Code\OtherProject\AlgorithmList\images\image-20250105193917617.png)![image-20250105194507340](D:\Code\OtherProject\AlgorithmList\images\image-20250105194507340.png)

| 题目名称 | 题目链接                                                 | 难度 | 标签           | 备注           |
| -------- | -------------------------------------------------------- | ---- | -------------- | -------------- |
| 油漆面积 | https://www.acwing.com/problem/content/description/1230/ | 中等 | 扫描线、线段树 | 发现规律并找环 |